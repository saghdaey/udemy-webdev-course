<!doctype html>
<html>
<head>
    <title>Reaction Tester</title>
    <meta charset="utf-8" />
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

<!--Section 3 Javascript Challenge, lecture 101-->
<!--we want to produce a cirlce or a square with equal probability, of a random color, 
    in a random position on the page. (we could use position or marigin style to do that part)-->

<style>
    body{
        font-family: Verdana, sans-serif;
    }
    .bold{
        font-weight:bold;
    }
    #box{
        width: 100px;
        height: 100px;
        background-color: blue;
        display:none; 
        position: relative; 
    }
</style>
</head>


<body>
    <h1>Test your reactions.</h1>
    <p>Click on the shapes as quickly as you can.</p>
    <p class="bold">Your time: <span id="time">0</span>s</p>
    <div id="box"></div> 

    <script type="text/javascript">


        //random color generator (copied from stack overflow)
        function getRandomColor(){
            var letters='0123456789ABCDEF'.split(''); //creates array of letters/numbers used in html color code
            var color='#'; //html color codes all start with hash symbol
            for(var i=0;i<6;i++){ //i can be 0 to 5
                color+=letters[Math.round(Math.random()*15)]; //add random entry of array to our color string
            }return color;
        }

        //difference between click time and created time = reaction time in milliseconds
        var clickedTime;
        var createdTime;  
        var reactionTime; 

        function makeBox(){ 
            var time=Math.random();
            time=time*3500;
            setTimeout(function(){
                //circle or box with equal probability
                if(Math.random()>0.5){
                    document.getElementById("box").style.borderRadius="60px";
                } else {
                    document.getElementById("box").style.borderRadius="0px";
                }
                //to assign random placement on page 

                var top=Math.random();
                //random margin 0-400px
                top=top*400;
                var left=Math.random();
                left=left*600;
                document.getElementById("box").style.top=top+"px";
                document.getElementById("box").style.left=left+"px";
                document.getElementById("box").style.backgroundColor=getRandomColor();
                document.getElementById("box").style.display="block"; 
                createdTime=Date.now();
            }, time); 
        }

        makeBox();
        document.getElementById("box").onclick=function(){
            clickedTime=Date.now();
            reactionTime=(clickedTime-createdTime)/1000 
            document.getElementById("time").innerHTML=reactionTime;
            this.style.display="none";
            makeBox();
        }

    </script>

</body>
</html>
